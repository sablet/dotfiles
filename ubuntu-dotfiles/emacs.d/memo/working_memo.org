* <2015-06-04 木 22:02>
** /services/ko-jiyasan/
*** /html/user_data/how2_hogehoge.php  ;呼び出しているテンプレートファイル
*** /data/Smarty/templates/smile_hoge/user_data/hoge.tpl ;htmlみたいな実際のファイル
** phpを編集すると以下のページが変更できる。
* http://localhost/user_data/EVzyudenki.php　
** etc
* $this->tpl_mainpage = hogehoge ;上の実際のファイルを開く
* $this->tpl_title = 実際のタイトル
* pankuzu ... 上の指し示すバー変更できる
* <2015-06-05 金 15:07>
** emacs sudo,ssh 使用メモ
*** Emacs書き込みにroot権限が必要なファイルを編集したい時、いちいちsu(sudo)しなくても、Emacsならtrampを利用して
* /sudo:root@localhost:/etc/httpd/conf/httpd.conf
* or
* /sudo::/etc/httpd/conf/httpd.conf （省略系）

* でいけることを Emacsでリモートサーバ上のファイルをrootで編集する で知った今日この頃です。

* よく使うと思うので「sudo → /sudo::/」のabbrev登録しておく。

* ssh で別マシンにログインする事も可能らしい

* ssh で host に user で接続して /path/to を開く
* /ssh:user@host:/path/to

* user でログインした後、root権限で開く
* /multi:ssh:user@host:sudo:root@localhost:/path/to

* FTPにも対応しています。~/.netrcにアカウント情報を書いておくとパスワード入力を自動化できるはず。

* /ftp:user@hostname:/path/to

* diredでコピーや削除、ファイル操作できて便利です。頻繁に使うならbookmarkしておくといい感じ。
** rsync 画像
*** メモ参照
** localhost/case_detail/4753/ 以下変更
*** 施行前を商品の名前の後につける、なければつけないでもいいようにする。
** database うまくいかない
*** pullしたときにおこった。mysql5.6にあげたことが原因で起こる模様。解決策は以下サイトに乗ってるので次回それを試してみる予定。
* http://treeapps.hatenablog.com/entry/2014/08/25/230357
* <2015-06-07 日 13:26>
** mysql log保存場所:
* /var/lib/mysql/log:通常の一般ログ
* /service/ko-jiyasan/data/logs/site.log サイトに関するログ。頻度はそんなに？
** 疑問
*** cssのレイアウトを自由に触りたいのでcssの場所を聞いておく
* /html/user_data/packages/smile12300~/css/ :ちゃんと分割してるの、新規はこっち
* /html/user_data/css/... ：こっちにもまとめて昔のがあったりする
*** htmlで画像を使いたいがそういった場合のリンク画像の保存先は？ 
* html/user_data/packages/img/hoge を自分でディレクトリを作る
*** deploy したがサイトマップに更新されない。サイトマップもこちらで更新しておくべき？
* 更新すべき
** 使用例の変更ファイル：
* /services/ko-jiyaasn/html/user_data/case_datail.php
* /localhost/case_datail/4753/ :ブラウザでの確認
* <2015-06-08 月 14:01>
** database変更
* rsync -e "ssh -p 1983" -auv sakura:/services/ko-jiyasan/html/upload/save_image/ /services/ko-jiyasan/html/up
* load/save_image
** database更新
* scp testserver:backup/archives/kojiyasan/backup_hogehoge.tar.gz .

* grant permission 追加
** 画像、cssのパス
*** php,tplどちらで指定するかに関わらずリンクをとるときは通常phpファイルをカレントディレクトリとしてパスを考える。画像の場合html直下にするため "../img/hoge.png"などとする。
	
* <2015-06-12 金 20:17>
** databaseにローカルでアクセスできない（管理画面など
* cat kojiyasan_hoge.dump|mysql ~~~ -t kojiyasan_db
* <2015-06-15 月 15:40>
** 変数をphpで変更したのにページで変更しないがなぜ？
* "$"をつけずに変数宣言できていないという可能性も考えられるが、今回の場合this->hogehoge といったようにthisからとってきたことを書かないとphpのメソッドの中のみでのローカル変数として認識するがクラスの中でのインスタンス変数としては認識しないのでSmartyには変数が渡らない。
** kojiyasanの本番サーバは　sakura

** 画像などgit管理にしたくないディレクトリを作る場合
*** /services/ko-jiyasan/.gitignore を編集して画像ファイルそのものをgit管理から外す。
*** ただし空ディレクトリは作りたいのでディレクトリの中に .gitkeep という空ファイルをtouchで製作してそれはgit管理する。
*** その後にscpなどで画像などをあげないとgitのワーキングツリーがエラーが同期タイミングが競合してしまうので注意する。
*** ファイルをscpなどであげた場合にも再帰的にファイルを作っているだけなので意味は同じ。

** 未施行ページ編集について
*** 編集するのは実際には /services/ko-jiyasan/data/Smarty/templates/smile1230001/user_data/how2_select_standard_charger.tplの帯部分。 phpはそんなに編集する必要なさそう。あとパスが変わった生成をしているが、アパッチのリダイレクトによるもので.htaccessによって正規表現で管理されている。
** 構造化データマークアップの見直し
*** GOOGLEのなんちゃらTOOL使って工事やさんのアドレスを貼って教えてもらったとおりに変えるだけ。
** ページタイトルがtpl_titleを編集しても治らない場合
*** $this->arrPageLayout['head_title'] = 'ご利用ガイド - 工事屋さん.com'; と言ったかたちでタイトルを変更できる。
** URLのパンくずリストについて
*** パンクリストをコメントアウトするとURLの二つ目の階層がなくなる。ご利用ガイドのような感じ。
* <2015-06-19 金 17:51>
** ローカルの管理画面に入れない：解決
* まずはローカルホストからではなくローカルのIPアドレスをifconfigなどで調べて　ipアドレス/admin から入る。
* あとモデムの変更などでIPアドレスが変更してしまった場合は data/config/config.php のDOMAIN_NAMEのIPアドレスを変更してみる。
** ローカルの変更がデータベースに反映されない
* list.tplの画像がローカルだと消えるのにdeployしてもko-jiyasanのサイトでは画像が消えない!,あとちゃんとメールテンプレをローカルで編集したのに -データベース触る必要アリ｡｡｡　あとメールテンプレも直接ファイルu編集してデプロイしたのになぜかサーバに反映されてない。
* <2015-06-23 火 21:23>
** SEO構造化マークアップ
* <2015-06-24 水 16:40>
** SEO
*** パンくずリストのURLが消える問題は解決。offer属性の問題がそもそも実装できているのかよくわからない検索ボックスを全htmlヘッダーに置いていることでSEO改善候補としてあがっているため、これを消してもいいかどうかを今尾さんと相談してみたいと思う。改善はそれから考える。
** 並び替えの問C題
*** カテゴリの並び替えには並び替え対象と被並び替えのソーティングの基準となる"rank"を入れ替えることで実装している。ただトップページ下のカテゴリの中で後から追加された項目だからかもしれないが、一部"top_pagerank"が"NULL"値になってしまっているためそこに適当な値を入れてみれば治りそう。データベースを直接いじる必要がありそうな気がするがこの辺の構文に疎いのでそこで苦戦中。その辺の使い方を次回谷口さんに聞ければいいと思う。以下の文でmysqlテーブルの大体の性質が見れるので実際に見れないほど長い文章を見るとき便利そう。mysql> show columns from dtb_category;　あと以下はnullの問題箇所らしき場所を抜き出した。ちなみにrankの場所にはNULLはなかった。

* mysql> select * from dtb_category where toppage_rank is null;

* | category_id | category_name                  | url            | message                              | parent_category_id | level | rank | toppage_rank | creator_id | create_date         | update_date         | del_flg | default_value
* _of_default_construction                                        | default_value_of_information                                 | default_value_of_periodic_inspection | default_value_of_periodical_check_policy                        | de
* fault_value_of_years_for_guarantee | default_value_of_after_service                                                                                                                                                                         
* | not_show_price_flg | detail_items_name |                                                                                                      
* +-------------+--------------------------------+----------------+--------------------------------------+--------------------+-------+------+--------------+------------+---------------------+---------------------+---------+--------------
* ----------------------------------------------------------------+--------------------------------------------------------------+--------------------------------------+-----------------------------------------------------------------+---
* -----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
* -------------------------------------------------------------------------------------------+--------------------+-------------------+                                                                                                      
* |          49 | 水のトラブル                   | water_trouble  | トラブル解消で快適な生活             |                  0 |     1 |    3 |         NULL |        187 | 2015-05-19 13:59:07 | 2015-06-23 09:55:43 |       0 | 1．トラブルの対応
* 2．試運転
* 3．取扱説明                                    | 既存の商品保証に準拠                                         | 有（無料）
* ご希望により             | 施工完了後、ご希望により、点検実施（無料）                      |                                   10 | 施工完了日から10年以内に発生した施工起因の故障・損傷について、無料で修理致します。（保証対象例：漏電、水漏れ、雨漏りなど）
* ただし、消耗品の枯渇・火災・天災・公害などによるトラブルは対象外です。                                                                                                |                  1 | 詳細              |
* |          50 | ハウスクリーニング             | house_cleaning | 手間なく自宅を美しく                 |                  0 |     1 |    2 |         NULL |        187 | 2015-05-19 14:03:57 | 2015-06-23 09:55:30 |       0 | 1．洗浄・クリーニング
* 2．養生
* 3．取扱説明                                  | 既存の商品保証に準拠                                         | 有（無料）
* ご希望により             | 施工完了後、ご希望により、点検実施（無料）                      |                                   10 | 施工完了日から10年以内に発生した施工起因の故障・損傷について、無料で修理致します。（保証対象例：漏電、水漏れ、雨漏りなど）
* ただし、消耗品の枯渇・火災・天災・公害などによるトラブルは対象外です。                                                                                                |                  1 | NULL              |
* |          51 | 設置工事のみ                   | kaden_setup    | 設置工事のみでも簡単検索             |                  0 |     1 |    1 |         NULL |        187 | 2015-05-19 14:05:47 | 2015-06-23 10:46:11 |       0 | 各商品カテゴリの標準工事内容に準拠              
* ご希望により             | 施工完了後、ご希望により、点検実施（無料）                      |                                   10 | 施工完了日から10年以内に発生した施工起因の故障・損傷について、無料で修理致します。（保証対象例：漏電、水漏れ、雨漏りなど）              
* ただし、消耗品の枯渇・火災・天災・公害などによるトラブルは対象外です。                                                                                                |                  0 | NULL              |
* +-------------+--------------------------------+----------------+--------------------------------------+--------------------+-------+------+--------------+------------+---------------------+---------------------+---------+--------------
* ----------------------------------------------------------------+--------------------------------------------------------------+--------------------------------------+-----------------------------------------------------------------+---
* -----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
* -------------------------------------------------------------------------------------------+--------------------+-------------------+                                                                                                      
* 6 rows in set (0.00 sec)
* <2015-06-26 金 13:57>
** DONE 今尾さんにSEOについて構造化マークアップの件（サイト内検索ボックス）、施工ページのページタイトルについていらっしゃったら聞いておく。
** データベースから値取得の際
*** SC_Query.phpからobject_queryを生成していく。ここにSQLのUPDATE、SELECT文などがあるので基本的にはここのものを使う。Helperクラスは
* <2015-06-29 月 14:42>
** gunzip hogehoge.tar.gz(工事やさんのバックアップ)が開けない：要相談
** windows側のローカルIPアドレス：192.168.1.101
** .tplでのvar_dump =>{$array|@var_dump}
* <2015-07-01 水 14:01>
** tar xzfv で展開できない問題解決した…　原因不明。
** bloc関係
* 管理画面.デザイン管理.ブロック設定で日本語名でのブロック名を編集可能（原則こちらではやらない）
* デザイン管理.レイアウト設定で実際にブロックがどのようにサイトの中で使われているかが分かる。
* あとdetail.tplで {if false}みたいに絶対動かないコードが初めに書かれているのに気づかずにずっと触っていた。ここは直すべき？
** 次回の課題
*** 管理画面のカテゴリを新しく作成したときにどういう動きをしているかわからない。category.tplでformの登録をしているのだが、それをsite.js関数のfnModeSubmit関数でsubmitしていて、PHP側で $_POST['edit']みたいに連想配列で受け取っていそうというところまではわかった。とはいえそこからどういった処理をされているのかがわからず。あとそこで何かしらデータベースを触ってカテゴリを追加したり消去してるのは間違いないのにgrep検索してもうまくいかない。そこもどうにかしたいところ。
* <2015-07-08 水 13:09>
** 新規カテゴリ登録がローカルからだとできない。
** 新規カテゴリ登録をcategory.tplからsite.js のfnModeSubmit を呼び出しているところまでは分かった。そこで普通ならform1.submit()としているのでaction="hoge" で呼び出しているものが分かるはずなのだがaction="?"となっていて通常だとURL?hoge=1,... といった形でURLにパラメータを与えるものみたいなのだが今回の場合どういう意味なのかが今ひとつわからん。
** シンボル検索 (",?,!　など) は SymbolHound　のサイトで検索可能
** rootの元パス: nnb50963
** rsync バージョンアップにより画像取得スピード大幅改善のため今度ソースからビルドする。
* <2015-08-10 月 16:32>
** 0810の梅垣さんの提案を戸城さんと次回要相談
** アップするCSVを確認するにはconfirm.tplをアップページで読み込んでいる。
** <2015-08-19 水 12:55>
*** 20150430の改善案はできた。20150514の内容のうち
* <2015-08-20 木 17:08>
** .= に関して
* 文字列連結演算子のようだが、これを誤って配列のpushと勘違いして、おまけにif分岐で確認ができなかったことで余計に時間を食ってしまった。
** CSVアップロードの注意書きは元の状態のように簡潔にする
** 次回はCSVのダウンロードをしたときに追加パラメータをCSVに反映させる。
* <2015-09-25 金 17:58>
** 見積り依頼の文章変更について
* 変更する場所は以下の３つ
* tplは共通の可能性もあるがすべて確認する
* .個人の営業所に関する文章変更
* .複数一括見積りをした場合の文章
* .商品一覧の上リンクにある見積り依頼バナーからの文章変更
* <2015-09-30 水 17:49>
** 今日は静的ページ作成の途中。温水式床暖房まで完成。
* cssを一般化するのに時間がかかる。listなどを変更したい。
** 静的ページのレイアウト変更はひとまずある程度変更済み。ただしリストの間の間隔をもう少し開けたスタイルに統一する。
** テーブルの色を大きい項目に関しては濃い色、各項目に関しては薄い色といった具合に統一する。
* <2015-10-08 木 09:12>
** 忘備録
*** 再起置換は replace-regexp
*** インデントは indent-region
* <2015-10-09 金 10:02>
** git の一発置換
* git grep -l Foo | xargs sed -i -e 's/Foo/Bar/g'
* 以前はうまくいかなかったので日本語が入ってなかったのがうまくいった要因？
** unzip エンコード変更パッチ
* https://gist.github.com/takeutch-kemeco/8753733

* <2015-10-13 火 10:30>
** git margin衝突 解決方法
* git checkout --theirs 対象ファイル　でマージ先を採用
* git checkout --ours 対象ファイル　　で自分のファイルを採用

** git 正規表現一括置換メモ
* 正規表現でimgタグでかつtitle,altを持っている行を含むファイル名を取得、
* その中のtitle="bar" を空文字に置換することでimgのtitleタグを消去している。
* git grep -l -e \<img\ src\= --and -e title\=\" --and -e alt\=\" | xargs sed -i '' -e 's/title\=\"*\"//g'

* ここではtitle=" を alt=" に変更している。
* はじめはtitle="*" をalt="*"　に変換しようとしたが
* パターンマッチにマッチしたものをそのまま使うことはそもそも変更が必要ないので根本的に間違っている。--実際には方法あり
* git grep -l -e \<img\ src\= --and -e title\=\" | xargs sed -i '' -e 's/title\=\"/alt\=\"/g'   
** grep 前後複数行取得： 'grep -n foobar' で前後n行取得できる
** git grep 'hogehoge' -- "*.php" で拡張子の検索
* <2015-10-16 金 16:05>
** 商品一覧画面の基本のファイル　/services/ko-jiyasan/data/Smarty/templates/smile1230001/products/list.tpl
* これずっと探してた。以外と触ってなくてむっちゃ探した。
** 新規メンバー登録：　登録自体できてもログインのときに弾かれてしまう。
** div の中に　title が入っているのをimg の中のtitleタグに変
* <2015-10-19 月 13:46>
** git log 一つ前に戻る  git reset --soft HEAD^ 
* このときに "^"　の位置に注意。 決して ^HEAD　ではない
** git grep -e "alt\=\"[^\"]*\"" --and -e "\<img" 
* これを使えば任意の文字と文字で囲まれた文字列に対してのマッチングは成功
** sed s/'alt\=\"\([^\"]*\)\"'/'alt\=\"\1\" title\=\"\1\"'/g sample     
* 後方参照というもので\( \) で囲んだものを後方で再利用できるというもの
* <2015-10-22 木 18:04>
** 次回は※の注意箇所,メリット、選び方の小見出しを統一していく。
* <2015-10-23 金 13:30>
** scpワイルドカード
* を使って画像を全部取るときになぜかディレクトリからディレクトリの指定にすると一部しか取れない上になぜかランダム…：謎
* scp ~~~~/\* というふうにワイルドカードをエスケープすることでうまくいった…
** 正規表現
* '' で囲んだ場合　< とかはエスケープしなくてだいじょうぶみたい。
* 今日のサンプル：
* find charm data/Smarty/templates/smile1230001/user_data/ | xargs sed -i '' -e s/'<h2>\([^(h2)]*\)<\/h2>'/'\<h2\>\<span\ class\=\"red\"\>メリット\<\/span\>\1\<\/h2\>'/g 
* sed s/'<h2>\([^(h2)]*\)<\/h2>'/'\<h2\>\<span\ class\=\"red\"\>Step\<\/span\>\1を選ぼう!\<\/h2\>'/g sample
** 次のときは見出し、そ	<img src="<!--{$TPL_URLPATH}-->img/static_page/how2_select_industrial_air_conditioner1.jpg" alt="4方向天井埋込カセット形" title="4方向天井埋込カセット形" class="img_padding_left reduction200">
* の次に以下をテーブルレイアウトにするべきものも変更する
* 業務用エアコン
* ルームエアコン選び方
* <2015-10-26 月 22:12>
** static_page_manager として少し試してみた。いろいろやってみたい。
* <2015-10-28 水 22:18>
** 以前の絞り込み検索の謎仕様：原因はcheckboxが前の設定を保存していることだった。checkbox全解除すれば一応解決するが、うまくやるために次回に回す。
* <2015-10-30 金 20:01>
** imgのmarginがそもそもうまく機能してなかった：原因
   p,h1はブロックレベル要素といってwidth,heightを指定することのできる内容が全体に広がって配置されるもの。
一方a,i,labelなどはインライン要素といって文途中で修飾を行うもの。この場合margin,borderはうまく機能しない。
img,inputなどはこのどちらにも属しない特殊なインラインブロック要素と呼ばれるものでwidth,heightは持つが文法上はインライン要素、
つまりmarginやpaddingはブロック要素と同じようには働かない。この場合img要素にmarginをうまく適用させるには
 display:block とcssで指定することによってimgをブロック要素として扱うことができる。
** cpのワイルドカードのエスケープシーケンスは普通のファイル名途中ではむしろ要らなかった。
** 静的ページのalt,titleを全て$tpl_titleにしておいた。ってかなんで今までこうでなかったのか不思議なくらい…
** 一応念のためにdownloadに10/30自転でのuser
* <2015-11-05 木 16:17>
** 着たらとりあえずgit pull !
どうしても改善作業が多くなるとお互いにconflict発生しやすくなるため
* <2015-11-06 金 20:51>
** 次回カテゴリなしの見積り依頼実装できたらヘッダーリンクからカテゴリなし見積り依頼に飛ぶようにしておく。
* <2015-11-19 木 15:54>
** GC_Utils::gfPrintLog() log出力
** git stashやばい
git stash を興味本位で使ってしまい
* <2015-11-25 水 17:57>
** 新着情報管理でページ送りの実装して一覧で画像を表示する。
* <2015-12-04 金 17:57>
** 今日は調子良く進んだ。
今の状態だと画像を一度アップロードしたのちに繊維すると画像がうまく表示されなくなっている。
ただtempのパスが保存されていたりされていなかったりでよくわからないことになってもいるが、その辺を触っていくつもり。
->FILES[size]をもとに判定しているのでそこが消えるのが原因。
また画像の削除はまだうまくいってないので次回はそこを変更していく。
* <2015-12-10 木 17:07>
** 画像消去は各モードを継続した状態でないとうまくいかない。明日は各モードの状態を継続してimage_deleteのサブモードを追加していくようにする。
* <2015-12-17 木 16:57>
* <2015-12-18 金 17:01>
** win7-ie8でカテゴリ検索のフォームがそもそも動かせない
* <2015-12-21 月 17:03>
** 次回はdiscriptionをどこからいじっているのかを調べる。多分arrPageLayoutをどこからとっているかを調べていけばわかるはず。
site_frame.tpl
* <2015-12-24 木 16:57>
** 次回はひたすらSEOのメタタグ打ち。めんどくさいがどうにかしてしまう。次回でほとんど終わると宣言したのでそれぐらいのペースで。
   しすてむばす選び方、share_sql/2015SEOに書き込み中
* <2015-12-28 月 10:01>
** sed -i -e /tpl_title/d ./how2_select_*
https://hydrocul.github.io/wiki/commands/sed.html
sedの詳しいmanっぽいの、要参照

** sed -i -e 's/$this->tpl_title/\/\/$this->tpl_title/g' html/user_data/charm_of_*
** pankuzu_last がhtml/user_date内の一部ファイルでうまく継承されない。条件がわからん
** 現在ポストのメリット・選び方、アンテナ選び方がメタなし
** 引継資料に静的ページ作成の手順を書いておく
** メタタグ設定がphpの各場所に散らばっているのでそれらを削除してdtb_pagalayoutにまとめる

* <2016-01-07 木 13:13>
** mysql 
*** UPDATE テーブル名 SET カラム名=`値`[, カラム名=`値`, ... ] WHERE 条件式;
** seo管理ページ
*** 現在編集すべきページとそうでないものの見分けがつかないのでサイトマップに合わせてわかりやすくする。例えばサイトマップみたいな一覧のリンクにとべばそこからメタタグを各ページのメタタグを設定できるようにするといった具合に。またサイトマップの改善案が出されていたのでひとまずそれを行った後でSEO管理の構造もそちらに合わせる。あとサイトマップの上にトップページへのリンクを足すのを忘れないように。
** sitemap構造
カテゴリデータベースに、関係ある静的ページのidをdtb_pagelayoutのものを設定する。施工事は簡単にカテゴリページへ飛べそう。
** amazon,rakuten,ホームプロ,比較.com,ecナビ、ゾゾタウン
* <2016-01-08 金 15:25>
** sql あいまい検索
 select page_name,page_id, filename, device_type_id from dtb_pagelayout where page_id < 300 and filename like '%user_data%';
** seo.phpの書き方や使い方などの注意書きを簡単に上の方に書いておく。
** お役立ちリンクが50,50になっているのでこれを40,40,20にしておく。(4列）
** 施工事例一覧など各ディスクションなどを編集できないが見れる状態にしておく、リンクは一番左に付け足す
** タイトルバーなどのデザインをサイトマップから流用してもう少しましなものにする。
* <2016-01-14 木 17:06>
** 20150523に施工事例の仕様書はある。これらと商品一覧なども合わせてSEO管理ページに情報をわかりやすい範囲でのせていく。
* <2016-01-15 金 18:04>
** 静的ページを大量に作ったてgitでcommitはしてある。次回はそれをアップロードしてそれらの表示の確認と今尾さんのメタタグに関する文章がきてると思うので設置工事ページについてもメタタグを設定する。insertにそれを書いてから更新しておく。
** また次回にお役立ちページのカテゴリへの関連付けに関する処理の許可ももらったのでそれをやっていく。それが完成すればお役立ちページ一覧はデータベースで回すだけでよくなるので期待したい。
* <2016-01-22 金 17:14>
** jqueryでうまく別tplのorderbyを取得したいがうまく取れない。
* <2016-01-28 木 13:51>
** submitのときにinput hidden追加
	$("#search_form").submit(function(){
		var order_var = $("#select_order").val();
		$('<input />').attr('type', 'hidden')
			.attr('name', "orderby")
			.attr('id', "orderby")
			.attr('value', order_var)
			.appendTo('#search_form');
	});		
** 今はリンクでやっているのでformから追加がなかなかうまくいかない
* <2016-01-29 金 16:55>
** htaccessの書き方が難しい。さすがにこのままではきついのでもう少しここをやってみる。
* <2016-02-04 木 16:59>   
** 次回はheaderのカテゴリメニューを作っていく。小カテゴリの表示には各クラスを隣に作っていくのが無難？
* <2016-02-05 金 17:15>
** なんだかんだで自動でヘッダーの実装ができた。
smartyの変数に入れるためにsmartyのforeachでsmarty変数回して、
整形後の<ul>をjs変数に代入することでなんとかうまくいった。
webでは割と汎用的なやり方かもしれないが汚すぎる…
次は細かいデザインの修正だが地味に時間はかかるかも。
* <2016-02-09 火 12:58>
** webcolor login password 
id:webcolor
pass: rainbow
* <2016-02-19 金 15:32>
** メモ
SC_Utilsから各詳細スペックの解説文が取り出せるように
dtb_product_classification_itemsにメッセージを追加した。
これをblocから取り出して吹き出しの中に表示させることができればいい感じになるはず。
管理画面から詳細スペックの解説編集も可能にすべきだがそれはひとまず後回し。
** 次回
お役立ちページの吹き出し位置を文字に合わせる
http://localhost/admin/products/category.php
で詳細解説が編集できるようにする。
上ページで解説したい項目にチェックを入れたときのみ吹き出しが出せるようにしておく。
* <2016-02-23 火 13:12>
** tplサイドメニューの　$arrItem　はproduct_sidemenuのlfGetSideMenuから
   lfgetsidemenuはutils_exのsfGetProductMenuから
** 次回
   白い文字ボックスの左右端を上のボーダーの左右端に合わせる
白い文字ボックスを丸めて境界線を#666にする
解説を閉じるにする
吹き出し位置を一番左の文字の左端に
出来上がったら梅垣さん・木城さんに機能の説明と、どんな形で使っていきたいか聞いてみる
解説文が空文字の場合は白箱と文字の間あける

* <2016-02-24 水 18:14>
** pdfファイルを作って送る。
* <2016-02-25 木 17:48>
** chatworksメモ
お世話になっています。

以前追加したカテゴリページの解説文追加機能に関して、少し変更をいたしました。
現在、各分類項目（タイプ、号数など）の各要素（タイプの中のオート、オート＋暖房など）が全て未入力の場合、解説が表示できないような仕様になっています。
** 	次回
商品管理->分類項目編集がcategory_idが登録したあとなぜか選びなおさなければならなくなっている
あと登録したときにダイアログも表示しておきたい．
あとcheckboxにフラグ必要であることもメモしておくつもり。
* <2016-02-26 金 13:32>
** 報告分
分類編集画面のバグ修正、ダイアログ表示、メッセージ追加 
** 提案？
管理画面の上バー(navi-wrap)が全部順番に静的ページとしてかかれている。
サイトマップみたいにデータベースに整理してもいいのでは？
** apply/apply.phpのwin7:ie8で消えるのにie10,11で消えない問題
** 次回
レビュー画面でスクロールバーを表示するほど長い文章になったときに文章と画像の間が狭くなりすぎてしまっている。
その辺の微調整をしていく。トップページ、カテゴリ一覧ページ、商品詳細ページの各ブロックを全て確認
* <2016-02-29 月 18:00>
** 次回は商品レビューのthis->arrResultsにカテゴリの日本語名を付け加える。それによってimgのalt,titleをつけていく。
** 直接パスワード打ち込むには
mysql -uroot -t kojiyasan_db --password='hogehoge'
* <2016-03-03 木 16:19>
** 正規表現
includeで各ファイルに大してリンクが出せるようになった。
ただファイル数が多すぎて全てをemacsで置換するのは辛い。
cat charm_of_enefarm.tpl|pcregrep -M '<p class=link>[\s\S]*?'
で囲まれた場所を複数行取り出せた。ただ複数行置換はsedだとよくわからない。
perlのワンライナー勉強してから取り組む。
** 変更ファイル
   html/user_data/product_review_list.php data/Smarty/templates/smile1230001/user_data/product_review_list.tpl  data/Smarty/templates/smile1230001/frontparts/bloc/product_review_top.tpl data/class/pages/frontparts/bloc/LC_Page_FrontParts_Bloc_ProductReview.php html/user_data/product_review_detail.php html/user_data/product_review_detail.php

* <2016-03-04 金 13:43>
git reset -hard 26fd8483a2665d650367dffe22539ac16a56b173
 2cacd5874e672e40008fa77375fe5a67129b9a28
** sample
ls|grep about|xargs perl -0pi -e 's/(<p class="link">[\s\S]*?<\/p>)/<!--{include file="user_data\/oyakudachi_link.tpl" curl=\$pankuzu[0].url cname=\$pankuzu[0].text}-->\n<!--\n\1\n-->/m'
** 次回
カテゴリトップページの全体にtitle,altをつけておく。
蓄電池施工事例が表示されない。メモリオーバーフロー？

* <2016-03-07 月 15:19>
** 報告
*** お役立ちページのリンク自動化完了
*** ie10で表示が消えない問題解決
** 次回
管理画面上のヘッダーをもう少しわかりやすく。
とりあえずメインのナビバーだけでももう少し触りやすくしてみる。
->フルでやると時間がかかりそうなので田中さんにおねがいする。また今回調べたDBなどの仕様を伝える。

* <2016-03-08 火 13:06>
** 修正ファイル
data/Smarty/templates/smile1230001/user_data/cases_list.tpl data/Smarty/templates/smile1230001/user_data/case_detail.tpl 
data/class_extends/page_extends/admin/order2/ data/Smarty/templates/admin/order2/index.tpl
data/class_extends/page_extends/admin/order2/LC_Page_Admin_Order2_Status_Ex.php data/Smarty/templates/admin/order2/status.tpl
html/js/ie8_foreach_apply.js data/Smarty/templates/smile1230001/apply/apply.tpl html/js/ie8_placeholder_apply.js 

data/Smarty/templates/smile1230001/products/detail.tpl data/Smarty/templates/smile1230001/products/list.tpl data/Smarty/templates/smile1230001/user_data/cases_list.tpl data/Smarty/templates/smile1230001/frontparts/bloc/cases_detail.tpl data/Smarty/templates/smile1230001/user_data/case_detail.tpl data/Smarty/templates/smile1230001/frontparts/bloc/cases_left.tpl html/user_data/packages/smile1230001/css/block.css data/Smarty/templates/smile1230001/frontparts/bloc/cases_bloc.tpl data/Smarty/templates/smile1230001/frontparts/bloc/cases_detail.tpl

data/Smarty/templates/smile1230001/products/detail.tpl data/Smarty/templates/smile1230001/frontparts/bloc/pr_to_constructers_w.tpl 
** 次回 
商品一覧・詳細ページ、施工事例一覧のbackgroundは消すことができた。
今までjs-img-liquidでmaxを動的に取っていたものを変えていく作業．
次回は残りをやっていく。

* <2016-03-10 木 17:20>
** 修正ファイル
data/Smarty/templates/smile1230001/frontparts/bloc/pr_to_constructers_w.tpl html/user_data/packages/smile1230001/css/detail.css data/Smarty/templates/smile1230001/products/detail.tpl 
** 次回
商品詳細ページのお値段に合わせてテーブルの列長さを調節する。
対応エリアとかせばめる、あと前の設定を基本的には引き継ぐ。
